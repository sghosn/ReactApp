{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\downloads\\\\PersonalProject\\\\ReactApp\\\\ReactApp\\\\frontend\\\\components\\\\main\\\\Search.js\";\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { TabView, TabBar } from 'react-native-tab-view';\nvar TabBarHeight = 48;\nvar HeaderHeight = 300;\nvar tab1ItemSize = (Dimensions.get('window').width - 30) / 2;\nvar tab2ItemSize = (Dimensions.get('window').width - 40) / 3;\n\nvar TabScene = function TabScene(_ref) {\n  var numCols = _ref.numCols,\n      data = _ref.data,\n      renderItem = _ref.renderItem,\n      onGetRef = _ref.onGetRef,\n      scrollY = _ref.scrollY,\n      onScrollEndDrag = _ref.onScrollEndDrag,\n      onMomentumScrollEnd = _ref.onMomentumScrollEnd,\n      onMomentumScrollBegin = _ref.onMomentumScrollBegin;\n  var windowHeight = Dimensions.get('window').height;\n  return React.createElement(Animated.FlatList, {\n    scrollToOverflowEnabled: true,\n    numColumns: numCols,\n    ref: onGetRef,\n    scrollEventThrottle: 16,\n    onScroll: Animated.event([{\n      nativeEvent: {\n        contentOffset: {\n          y: scrollY\n        }\n      }\n    }], {\n      useNativeDriver: true\n    }),\n    onMomentumScrollBegin: onMomentumScrollBegin,\n    onScrollEndDrag: onScrollEndDrag,\n    onMomentumScrollEnd: onMomentumScrollEnd,\n    ItemSeparatorComponent: function ItemSeparatorComponent() {\n      return React.createElement(View, {\n        style: {\n          height: 10\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 37\n        }\n      });\n    },\n    ListHeaderComponent: function ListHeaderComponent() {\n      return React.createElement(View, {\n        style: {\n          height: 10\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 34\n        }\n      });\n    },\n    contentContainerStyle: {\n      paddingTop: HeaderHeight + TabBarHeight,\n      paddingHorizontal: 10,\n      minHeight: windowHeight - TabBarHeight\n    },\n    showsHorizontalScrollIndicator: false,\n    data: data,\n    renderItem: renderItem,\n    showsVerticalScrollIndicator: false,\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  });\n};\n\nvar CollapsibleTabView = function CollapsibleTabView() {\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      tabIndex = _useState2[0],\n      setIndex = _useState2[1];\n\n  var _useState3 = useState([{\n    key: 'tab1',\n    title: 'Tab1'\n  }, {\n    key: 'tab2',\n    title: 'Tab2'\n  }]),\n      _useState4 = _slicedToArray(_useState3, 1),\n      routes = _useState4[0];\n\n  var _useState5 = useState(Array(40).fill(0)),\n      _useState6 = _slicedToArray(_useState5, 1),\n      tab1Data = _useState6[0];\n\n  var _useState7 = useState(Array(30).fill(0)),\n      _useState8 = _slicedToArray(_useState7, 1),\n      tab2Data = _useState8[0];\n\n  var scrollY = useRef(new Animated.Value(0)).current;\n  var listRefArr = useRef([]);\n  var listOffset = useRef({});\n  var isListGliding = useRef(false);\n  useEffect(function () {\n    scrollY.addListener(function (_ref2) {\n      var value = _ref2.value;\n      var curRoute = routes[tabIndex].key;\n      listOffset.current[curRoute] = value;\n    });\n    return function () {\n      scrollY.removeAllListeners();\n    };\n  }, [routes, tabIndex]);\n\n  var syncScrollOffset = function syncScrollOffset() {\n    var curRouteKey = routes[tabIndex].key;\n    listRefArr.current.forEach(function (item) {\n      if (item.key !== curRouteKey) {\n        if (scrollY._value < HeaderHeight && scrollY._value >= 0) {\n          if (item.value) {\n            item.value.scrollToOffset({\n              offset: scrollY._value,\n              animated: false\n            });\n            listOffset.current[item.key] = scrollY._value;\n          }\n        } else if (scrollY._value >= HeaderHeight) {\n          if (listOffset.current[item.key] < HeaderHeight || listOffset.current[item.key] == null) {\n            if (item.value) {\n              item.value.scrollToOffset({\n                offset: HeaderHeight,\n                animated: false\n              });\n              listOffset.current[item.key] = HeaderHeight;\n            }\n          }\n        }\n      }\n    });\n  };\n\n  var onMomentumScrollBegin = function onMomentumScrollBegin() {\n    isListGliding.current = true;\n  };\n\n  var onMomentumScrollEnd = function onMomentumScrollEnd() {\n    isListGliding.current = false;\n    syncScrollOffset();\n  };\n\n  var onScrollEndDrag = function onScrollEndDrag() {\n    syncScrollOffset();\n  };\n\n  var renderHeader = function renderHeader() {\n    var y = scrollY.interpolate({\n      inputRange: [0, HeaderHeight],\n      outputRange: [0, -HeaderHeight],\n      extrapolateRight: 'clamp'\n    });\n    return React.createElement(Animated.View, {\n      style: [styles.header, {\n        transform: [{\n          translateY: y\n        }]\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, 'Header'));\n  };\n\n  var rednerTab1Item = function rednerTab1Item(_ref3) {\n    var item = _ref3.item,\n        index = _ref3.index;\n    return React.createElement(View, {\n      style: {\n        borderRadius: 16,\n        marginLeft: index % 2 === 0 ? 0 : 10,\n        width: tab1ItemSize,\n        height: tab1ItemSize,\n        backgroundColor: '#aaa',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }, index));\n  };\n\n  var rednerTab2Item = function rednerTab2Item(_ref4) {\n    var item = _ref4.item,\n        index = _ref4.index;\n    return React.createElement(View, {\n      style: {\n        marginLeft: index % 3 === 0 ? 0 : 10,\n        borderRadius: 16,\n        width: tab2ItemSize,\n        height: tab2ItemSize,\n        backgroundColor: '#aaa',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }\n    }, index));\n  };\n\n  var renderLabel = function renderLabel(_ref5) {\n    var route = _ref5.route,\n        focused = _ref5.focused;\n    return React.createElement(Text, {\n      style: [styles.label, {\n        opacity: focused ? 1 : 0.5\n      }],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 7\n      }\n    }, route.title);\n  };\n\n  var renderScene = function renderScene(_ref6) {\n    var route = _ref6.route;\n    var focused = route.key === routes[tabIndex].key;\n    var numCols;\n    var data;\n    var renderItem;\n\n    switch (route.key) {\n      case 'tab1':\n        numCols = 2;\n        data = tab1Data;\n        renderItem = rednerTab1Item;\n        break;\n\n      case 'tab2':\n        numCols = 3;\n        data = tab2Data;\n        renderItem = rednerTab2Item;\n        break;\n\n      default:\n        return null;\n    }\n\n    return React.createElement(TabScene, {\n      numCols: numCols,\n      data: data,\n      renderItem: renderItem,\n      scrollY: scrollY,\n      onMomentumScrollBegin: onMomentumScrollBegin,\n      onScrollEndDrag: onScrollEndDrag,\n      onMomentumScrollEnd: onMomentumScrollEnd,\n      onGetRef: function onGetRef(ref) {\n        if (ref) {\n          var found = listRefArr.current.find(function (e) {\n            return e.key === route.key;\n          });\n\n          if (!found) {\n            listRefArr.current.push({\n              key: route.key,\n              value: ref\n            });\n          }\n        }\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 7\n      }\n    });\n  };\n\n  var renderTabBar = function renderTabBar(props) {\n    var y = scrollY.interpolate({\n      inputRange: [0, HeaderHeight],\n      outputRange: [HeaderHeight, 0],\n      extrapolateRight: 'clamp'\n    });\n    return React.createElement(Animated.View, {\n      style: {\n        top: 0,\n        zIndex: 1,\n        position: 'absolute',\n        transform: [{\n          translateY: y\n        }],\n        width: '100%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 7\n      }\n    }, React.createElement(TabBar, _extends({}, props, {\n      onTabPress: function onTabPress(_ref7) {\n        var route = _ref7.route,\n            preventDefault = _ref7.preventDefault;\n\n        if (isListGliding.current) {\n          preventDefault();\n        }\n      },\n      style: styles.tab,\n      renderLabel: renderLabel,\n      indicatorStyle: styles.indicator,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }\n    })));\n  };\n\n  var renderTabView = function renderTabView() {\n    return React.createElement(TabView, {\n      onIndexChange: function onIndexChange(index) {\n        return setIndex(index);\n      },\n      navigationState: {\n        index: tabIndex,\n        routes: routes\n      },\n      renderScene: renderScene,\n      renderTabBar: renderTabBar,\n      initialLayout: {\n        height: 0,\n        width: Dimensions.get('window').width\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 7\n      }\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 5\n    }\n  }, renderTabView(), renderHeader());\n};\n\nvar styles = StyleSheet.create({\n  header: {\n    top: 0,\n    height: HeaderHeight,\n    width: '100%',\n    backgroundColor: '#40C4FF',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'absolute'\n  },\n  label: {\n    fontSize: 16,\n    color: '#222'\n  },\n  tab: {\n    elevation: 0,\n    shadowOpacity: 0,\n    backgroundColor: '#FFCC80'\n  },\n  indicator: {\n    backgroundColor: '#222'\n  }\n});\nexport default CollapsibleTabView;","map":{"version":3,"sources":["D:/downloads/PersonalProject/ReactApp/ReactApp/frontend/components/main/Search.js"],"names":["React","useState","useEffect","useRef","TabView","TabBar","TabBarHeight","HeaderHeight","tab1ItemSize","Dimensions","get","width","tab2ItemSize","TabScene","numCols","data","renderItem","onGetRef","scrollY","onScrollEndDrag","onMomentumScrollEnd","onMomentumScrollBegin","windowHeight","height","Animated","event","nativeEvent","contentOffset","y","useNativeDriver","paddingTop","paddingHorizontal","minHeight","item","index","toString","CollapsibleTabView","tabIndex","setIndex","key","title","routes","Array","fill","tab1Data","tab2Data","Value","current","listRefArr","listOffset","isListGliding","addListener","value","curRoute","removeAllListeners","syncScrollOffset","curRouteKey","forEach","_value","scrollToOffset","offset","animated","renderHeader","interpolate","inputRange","outputRange","extrapolateRight","styles","header","transform","translateY","rednerTab1Item","borderRadius","marginLeft","backgroundColor","justifyContent","alignItems","rednerTab2Item","renderLabel","route","focused","label","opacity","renderScene","ref","found","find","e","push","renderTabBar","props","top","zIndex","position","preventDefault","tab","indicator","renderTabView","flex","StyleSheet","create","fontSize","color","elevation","shadowOpacity"],"mappings":";;;;;;AA6CA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,MAApC,QAAiD,OAAjD;;;;;;;AASA,SAAQC,OAAR,EAAiBC,MAAjB,QAA8B,uBAA9B;AAEA,IAAMC,YAAY,GAAG,EAArB;AACA,IAAMC,YAAY,GAAG,GAArB;AACA,IAAMC,YAAY,GAAG,CAACC,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBC,KAAzB,GAAiC,EAAlC,IAAwC,CAA7D;AACA,IAAMC,YAAY,GAAG,CAACH,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBC,KAAzB,GAAiC,EAAlC,IAAwC,CAA7D;;AAEA,IAAME,QAAQ,GAAG,SAAXA,QAAW,OASX;AAAA,MARJC,OAQI,QARJA,OAQI;AAAA,MAPJC,IAOI,QAPJA,IAOI;AAAA,MANJC,UAMI,QANJA,UAMI;AAAA,MALJC,QAKI,QALJA,QAKI;AAAA,MAJJC,OAII,QAJJA,OAII;AAAA,MAHJC,eAGI,QAHJA,eAGI;AAAA,MAFJC,mBAEI,QAFJA,mBAEI;AAAA,MADJC,qBACI,QADJA,qBACI;AACJ,MAAMC,YAAY,GAAGb,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBa,MAA9C;AAEA,SACE,oBAAC,QAAD,CAAU,QAAV;AACE,IAAA,uBAAuB,EAAE,IAD3B;AAEE,IAAA,UAAU,EAAET,OAFd;AAGE,IAAA,GAAG,EAAEG,QAHP;AAIE,IAAA,mBAAmB,EAAE,EAJvB;AAKE,IAAA,QAAQ,EAAEO,QAAQ,CAACC,KAAT,CAAe,CAAC;AAACC,MAAAA,WAAW,EAAE;AAACC,QAAAA,aAAa,EAAE;AAACC,UAAAA,CAAC,EAAEV;AAAJ;AAAhB;AAAd,KAAD,CAAf,EAA+D;AACvEW,MAAAA,eAAe,EAAE;AADsD,KAA/D,CALZ;AAQE,IAAA,qBAAqB,EAAER,qBARzB;AASE,IAAA,eAAe,EAAEF,eATnB;AAUE,IAAA,mBAAmB,EAAEC,mBAVvB;AAWE,IAAA,sBAAsB,EAAE;AAAA,aAAM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACG,UAAAA,MAAM,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAN;AAAA,KAX1B;AAYE,IAAA,mBAAmB,EAAE;AAAA,aAAM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACA,UAAAA,MAAM,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAN;AAAA,KAZvB;AAaE,IAAA,qBAAqB,EAAE;AACrBO,MAAAA,UAAU,EAAEvB,YAAY,GAAGD,YADN;AAErByB,MAAAA,iBAAiB,EAAE,EAFE;AAGrBC,MAAAA,SAAS,EAAEV,YAAY,GAAGhB;AAHL,KAbzB;AAkBE,IAAA,8BAA8B,EAAE,KAlBlC;AAmBE,IAAA,IAAI,EAAES,IAnBR;AAoBE,IAAA,UAAU,EAAEC,UApBd;AAqBE,IAAA,4BAA4B,EAAE,KArBhC;AAsBE,IAAA,YAAY,EAAE,sBAACiB,IAAD,EAAOC,KAAP;AAAA,aAAiBA,KAAK,CAACC,QAAN,EAAjB;AAAA,KAtBhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AA0BD,CAtCD;;AAwCA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC/B,kBAA6BnC,QAAQ,CAAC,CAAD,CAArC;AAAA;AAAA,MAAOoC,QAAP;AAAA,MAAiBC,QAAjB;;AACA,mBAAiBrC,QAAQ,CAAC,CACxB;AAACsC,IAAAA,GAAG,EAAE,MAAN;AAAcC,IAAAA,KAAK,EAAE;AAArB,GADwB,EAExB;AAACD,IAAAA,GAAG,EAAE,MAAN;AAAcC,IAAAA,KAAK,EAAE;AAArB,GAFwB,CAAD,CAAzB;AAAA;AAAA,MAAOC,MAAP;;AAIA,mBAAmBxC,QAAQ,CAACyC,KAAK,CAAC,EAAD,CAAL,CAAUC,IAAV,CAAe,CAAf,CAAD,CAA3B;AAAA;AAAA,MAAOC,QAAP;;AACA,mBAAmB3C,QAAQ,CAACyC,KAAK,CAAC,EAAD,CAAL,CAAUC,IAAV,CAAe,CAAf,CAAD,CAA3B;AAAA;AAAA,MAAOE,QAAP;;AACA,MAAM3B,OAAO,GAAGf,MAAM,CAAC,IAAIqB,QAAQ,CAACsB,KAAb,CAAmB,CAAnB,CAAD,CAAN,CAA8BC,OAA9C;AACA,MAAIC,UAAU,GAAG7C,MAAM,CAAC,EAAD,CAAvB;AACA,MAAI8C,UAAU,GAAG9C,MAAM,CAAC,EAAD,CAAvB;AACA,MAAI+C,aAAa,GAAG/C,MAAM,CAAC,KAAD,CAA1B;AAEAD,EAAAA,SAAS,CAAC,YAAM;AACdgB,IAAAA,OAAO,CAACiC,WAAR,CAAoB,iBAAa;AAAA,UAAXC,KAAW,SAAXA,KAAW;AAC/B,UAAMC,QAAQ,GAAGZ,MAAM,CAACJ,QAAD,CAAN,CAAiBE,GAAlC;AACAU,MAAAA,UAAU,CAACF,OAAX,CAAmBM,QAAnB,IAA+BD,KAA/B;AACD,KAHD;AAIA,WAAO,YAAM;AACXlC,MAAAA,OAAO,CAACoC,kBAAR;AACD,KAFD;AAGD,GARQ,EAQN,CAACb,MAAD,EAASJ,QAAT,CARM,CAAT;;AAUA,MAAMkB,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,QAAMC,WAAW,GAAGf,MAAM,CAACJ,QAAD,CAAN,CAAiBE,GAArC;AACAS,IAAAA,UAAU,CAACD,OAAX,CAAmBU,OAAnB,CAA2B,UAACxB,IAAD,EAAU;AACnC,UAAIA,IAAI,CAACM,GAAL,KAAaiB,WAAjB,EAA8B;AAC5B,YAAItC,OAAO,CAACwC,MAAR,GAAiBnD,YAAjB,IAAiCW,OAAO,CAACwC,MAAR,IAAkB,CAAvD,EAA0D;AACxD,cAAIzB,IAAI,CAACmB,KAAT,EAAgB;AACdnB,YAAAA,IAAI,CAACmB,KAAL,CAAWO,cAAX,CAA0B;AACxBC,cAAAA,MAAM,EAAE1C,OAAO,CAACwC,MADQ;AAExBG,cAAAA,QAAQ,EAAE;AAFc,aAA1B;AAIAZ,YAAAA,UAAU,CAACF,OAAX,CAAmBd,IAAI,CAACM,GAAxB,IAA+BrB,OAAO,CAACwC,MAAvC;AACD;AACF,SARD,MAQO,IAAIxC,OAAO,CAACwC,MAAR,IAAkBnD,YAAtB,EAAoC;AACzC,cACE0C,UAAU,CAACF,OAAX,CAAmBd,IAAI,CAACM,GAAxB,IAA+BhC,YAA/B,IACA0C,UAAU,CAACF,OAAX,CAAmBd,IAAI,CAACM,GAAxB,KAAgC,IAFlC,EAGE;AACA,gBAAIN,IAAI,CAACmB,KAAT,EAAgB;AACdnB,cAAAA,IAAI,CAACmB,KAAL,CAAWO,cAAX,CAA0B;AACxBC,gBAAAA,MAAM,EAAErD,YADgB;AAExBsD,gBAAAA,QAAQ,EAAE;AAFc,eAA1B;AAIAZ,cAAAA,UAAU,CAACF,OAAX,CAAmBd,IAAI,CAACM,GAAxB,IAA+BhC,YAA/B;AACD;AACF;AACF;AACF;AACF,KAzBD;AA0BD,GA5BD;;AA8BA,MAAMc,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClC6B,IAAAA,aAAa,CAACH,OAAd,GAAwB,IAAxB;AACD,GAFD;;AAIA,MAAM3B,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAChC8B,IAAAA,aAAa,CAACH,OAAd,GAAwB,KAAxB;AACAQ,IAAAA,gBAAgB;AACjB,GAHD;;AAKA,MAAMpC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BoC,IAAAA,gBAAgB;AACjB,GAFD;;AAIA,MAAMO,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,QAAMlC,CAAC,GAAGV,OAAO,CAAC6C,WAAR,CAAoB;AAC5BC,MAAAA,UAAU,EAAE,CAAC,CAAD,EAAIzD,YAAJ,CADgB;AAE5B0D,MAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAC1D,YAAL,CAFe;AAG5B2D,MAAAA,gBAAgB,EAAE;AAHU,KAApB,CAAV;AAKA,WACE,oBAAC,QAAD,CAAU,IAAV;AAAe,MAAA,KAAK,EAAE,CAACC,MAAM,CAACC,MAAR,EAAgB;AAACC,QAAAA,SAAS,EAAE,CAAC;AAACC,UAAAA,UAAU,EAAE1C;AAAb,SAAD;AAAZ,OAAhB,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,QAAP,CADF,CADF;AAKD,GAXD;;AAaA,MAAM2C,cAAc,GAAG,SAAjBA,cAAiB,QAAmB;AAAA,QAAjBtC,IAAiB,SAAjBA,IAAiB;AAAA,QAAXC,KAAW,SAAXA,KAAW;AACxC,WACE,oBAAC,IAAD;AACE,MAAA,KAAK,EAAE;AACLsC,QAAAA,YAAY,EAAE,EADT;AAELC,QAAAA,UAAU,EAAEvC,KAAK,GAAG,CAAR,KAAc,CAAd,GAAkB,CAAlB,GAAsB,EAF7B;AAGLvB,QAAAA,KAAK,EAAEH,YAHF;AAILe,QAAAA,MAAM,EAAEf,YAJH;AAKLkE,QAAAA,eAAe,EAAE,MALZ;AAMLC,QAAAA,cAAc,EAAE,QANX;AAOLC,QAAAA,UAAU,EAAE;AAPP,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAUE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO1C,KAAP,CAVF,CADF;AAcD,GAfD;;AAiBA,MAAM2C,cAAc,GAAG,SAAjBA,cAAiB,QAAmB;AAAA,QAAjB5C,IAAiB,SAAjBA,IAAiB;AAAA,QAAXC,KAAW,SAAXA,KAAW;AACxC,WACE,oBAAC,IAAD;AACE,MAAA,KAAK,EAAE;AACLuC,QAAAA,UAAU,EAAEvC,KAAK,GAAG,CAAR,KAAc,CAAd,GAAkB,CAAlB,GAAsB,EAD7B;AAELsC,QAAAA,YAAY,EAAE,EAFT;AAGL7D,QAAAA,KAAK,EAAEC,YAHF;AAILW,QAAAA,MAAM,EAAEX,YAJH;AAKL8D,QAAAA,eAAe,EAAE,MALZ;AAMLC,QAAAA,cAAc,EAAE,QANX;AAOLC,QAAAA,UAAU,EAAE;AAPP,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAUE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO1C,KAAP,CAVF,CADF;AAcD,GAfD;;AAiBA,MAAM4C,WAAW,GAAG,SAAdA,WAAc,QAAsB;AAAA,QAApBC,KAAoB,SAApBA,KAAoB;AAAA,QAAbC,OAAa,SAAbA,OAAa;AACxC,WACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,CAACb,MAAM,CAACc,KAAR,EAAe;AAACC,QAAAA,OAAO,EAAEF,OAAO,GAAG,CAAH,GAAO;AAAxB,OAAf,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,KAAK,CAACvC,KADT,CADF;AAKD,GAND;;AAQA,MAAM2C,WAAW,GAAG,SAAdA,WAAc,QAAa;AAAA,QAAXJ,KAAW,SAAXA,KAAW;AAC/B,QAAMC,OAAO,GAAGD,KAAK,CAACxC,GAAN,KAAcE,MAAM,CAACJ,QAAD,CAAN,CAAiBE,GAA/C;AACA,QAAIzB,OAAJ;AACA,QAAIC,IAAJ;AACA,QAAIC,UAAJ;;AACA,YAAQ+D,KAAK,CAACxC,GAAd;AACE,WAAK,MAAL;AACEzB,QAAAA,OAAO,GAAG,CAAV;AACAC,QAAAA,IAAI,GAAG6B,QAAP;AACA5B,QAAAA,UAAU,GAAGuD,cAAb;AACA;;AACF,WAAK,MAAL;AACEzD,QAAAA,OAAO,GAAG,CAAV;AACAC,QAAAA,IAAI,GAAG8B,QAAP;AACA7B,QAAAA,UAAU,GAAG6D,cAAb;AACA;;AACF;AACE,eAAO,IAAP;AAZJ;;AAcA,WACE,oBAAC,QAAD;AACE,MAAA,OAAO,EAAE/D,OADX;AAEE,MAAA,IAAI,EAAEC,IAFR;AAGE,MAAA,UAAU,EAAEC,UAHd;AAIE,MAAA,OAAO,EAAEE,OAJX;AAKE,MAAA,qBAAqB,EAAEG,qBALzB;AAME,MAAA,eAAe,EAAEF,eANnB;AAOE,MAAA,mBAAmB,EAAEC,mBAPvB;AAQE,MAAA,QAAQ,EAAE,kBAACgE,GAAD,EAAS;AACjB,YAAIA,GAAJ,EAAS;AACP,cAAMC,KAAK,GAAGrC,UAAU,CAACD,OAAX,CAAmBuC,IAAnB,CAAwB,UAACC,CAAD;AAAA,mBAAOA,CAAC,CAAChD,GAAF,KAAUwC,KAAK,CAACxC,GAAvB;AAAA,WAAxB,CAAd;;AACA,cAAI,CAAC8C,KAAL,EAAY;AACVrC,YAAAA,UAAU,CAACD,OAAX,CAAmByC,IAAnB,CAAwB;AACtBjD,cAAAA,GAAG,EAAEwC,KAAK,CAACxC,GADW;AAEtBa,cAAAA,KAAK,EAAEgC;AAFe,aAAxB;AAID;AACF;AACF,OAlBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAsBD,GAzCD;;AA2CA,MAAMK,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9B,QAAM9D,CAAC,GAAGV,OAAO,CAAC6C,WAAR,CAAoB;AAC5BC,MAAAA,UAAU,EAAE,CAAC,CAAD,EAAIzD,YAAJ,CADgB;AAE5B0D,MAAAA,WAAW,EAAE,CAAC1D,YAAD,EAAe,CAAf,CAFe;AAG5B2D,MAAAA,gBAAgB,EAAE;AAHU,KAApB,CAAV;AAKA,WACE,oBAAC,QAAD,CAAU,IAAV;AACE,MAAA,KAAK,EAAE;AACLyB,QAAAA,GAAG,EAAE,CADA;AAELC,QAAAA,MAAM,EAAE,CAFH;AAGLC,QAAAA,QAAQ,EAAE,UAHL;AAILxB,QAAAA,SAAS,EAAE,CAAC;AAACC,UAAAA,UAAU,EAAE1C;AAAb,SAAD,CAJN;AAKLjB,QAAAA,KAAK,EAAE;AALF,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQE,oBAAC,MAAD,eACM+E,KADN;AAEE,MAAA,UAAU,EAAE,2BAA6B;AAAA,YAA3BX,KAA2B,SAA3BA,KAA2B;AAAA,YAApBe,cAAoB,SAApBA,cAAoB;;AACvC,YAAI5C,aAAa,CAACH,OAAlB,EAA2B;AACzB+C,UAAAA,cAAc;AACf;AACF,OANH;AAOE,MAAA,KAAK,EAAE3B,MAAM,CAAC4B,GAPhB;AAQE,MAAA,WAAW,EAAEjB,WARf;AASE,MAAA,cAAc,EAAEX,MAAM,CAAC6B,SATzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OARF,CADF;AAsBD,GA5BD;;AA8BA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,WACE,oBAAC,OAAD;AACE,MAAA,aAAa,EAAE,uBAAC/D,KAAD;AAAA,eAAWI,QAAQ,CAACJ,KAAD,CAAnB;AAAA,OADjB;AAEE,MAAA,eAAe,EAAE;AAACA,QAAAA,KAAK,EAAEG,QAAR;AAAkBI,QAAAA,MAAM,EAANA;AAAlB,OAFnB;AAGE,MAAA,WAAW,EAAE0C,WAHf;AAIE,MAAA,YAAY,EAAEM,YAJhB;AAKE,MAAA,aAAa,EAAE;AACblE,QAAAA,MAAM,EAAE,CADK;AAEbZ,QAAAA,KAAK,EAAEF,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBC;AAFnB,OALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAYD,GAbD;;AAeA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACuF,MAAAA,IAAI,EAAE;AAAP,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,aAAa,EADhB,EAEGnC,YAAY,EAFf,CADF;AAMD,CAvND;;AAyNA,IAAMK,MAAM,GAAGgC,UAAU,CAACC,MAAX,CAAkB;AAC/BhC,EAAAA,MAAM,EAAE;AACNuB,IAAAA,GAAG,EAAE,CADC;AAENpE,IAAAA,MAAM,EAAEhB,YAFF;AAGNI,IAAAA,KAAK,EAAE,MAHD;AAIN+D,IAAAA,eAAe,EAAE,SAJX;AAKNE,IAAAA,UAAU,EAAE,QALN;AAMND,IAAAA,cAAc,EAAE,QANV;AAONkB,IAAAA,QAAQ,EAAE;AAPJ,GADuB;AAU/BZ,EAAAA,KAAK,EAAE;AAACoB,IAAAA,QAAQ,EAAE,EAAX;AAAeC,IAAAA,KAAK,EAAE;AAAtB,GAVwB;AAW/BP,EAAAA,GAAG,EAAE;AAACQ,IAAAA,SAAS,EAAE,CAAZ;AAAeC,IAAAA,aAAa,EAAE,CAA9B;AAAiC9B,IAAAA,eAAe,EAAE;AAAlD,GAX0B;AAY/BsB,EAAAA,SAAS,EAAE;AAACtB,IAAAA,eAAe,EAAE;AAAlB;AAZoB,CAAlB,CAAf;AAeA,eAAetC,kBAAf","sourcesContent":["/* import React, { useState } from 'react'\r\nimport { View, Text, TextInput, FlatList, TouchableOpacity } from 'react-native'\r\n\r\nimport firebase from 'firebase';\r\nrequire('firebase/firestore');\r\n*/\r\n/* export default function Search(props) {\r\n    const [users, setUsers] = useState([])\r\n\r\n    const fetchUsers = (search) => {\r\n        firebase.firestore()\r\n            .collection('users')\r\n            .where('name', '>=', search)\r\n            .get()\r\n            .then((snapshot) => {\r\n                let users = snapshot.docs.map(doc => {\r\n                    const data = doc.data();\r\n                    const id = doc.id;\r\n                    return { id, ...data }\r\n                });\r\n                setUsers(users);\r\n            })\r\n    }\r\n    return (\r\n        <View>\r\n            <TextInput\r\n                placeholder=\"Type Here...\"\r\n                onChangeText={(search) => fetchUsers(search)} />\r\n\r\n            <FlatList\r\n                numColumns={1}\r\n                horizontal={false}\r\n                data={users}\r\n                renderItem={({ item }) => (\r\n                    <TouchableOpacity\r\n                        onPress={() => props.navigation.navigate(\"Profile\", {uid: item.id})}>\r\n                        <Text>{item.name}</Text>\r\n                    </TouchableOpacity>\r\n\r\n                )}\r\n            />\r\n        </View>\r\n    )\r\n} */\r\n\r\nimport React, {useState, useEffect, useRef} from 'react';\r\nimport {\r\n  SafeAreaView,\r\n  StyleSheet,\r\n  View,\r\n  Text,\r\n  Dimensions,\r\n  Animated,\r\n} from 'react-native';\r\nimport {TabView, TabBar} from 'react-native-tab-view';\r\n\r\nconst TabBarHeight = 48;\r\nconst HeaderHeight = 300;\r\nconst tab1ItemSize = (Dimensions.get('window').width - 30) / 2;\r\nconst tab2ItemSize = (Dimensions.get('window').width - 40) / 3;\r\n\r\nconst TabScene = ({\r\n  numCols,\r\n  data,\r\n  renderItem,\r\n  onGetRef,\r\n  scrollY,\r\n  onScrollEndDrag,\r\n  onMomentumScrollEnd,\r\n  onMomentumScrollBegin,\r\n}) => {\r\n  const windowHeight = Dimensions.get('window').height;\r\n\r\n  return (\r\n    <Animated.FlatList\r\n      scrollToOverflowEnabled={true}\r\n      numColumns={numCols}\r\n      ref={onGetRef}\r\n      scrollEventThrottle={16}\r\n      onScroll={Animated.event([{nativeEvent: {contentOffset: {y: scrollY}}}], {\r\n        useNativeDriver: true,\r\n      })}\r\n      onMomentumScrollBegin={onMomentumScrollBegin}\r\n      onScrollEndDrag={onScrollEndDrag}\r\n      onMomentumScrollEnd={onMomentumScrollEnd}\r\n      ItemSeparatorComponent={() => <View style={{height: 10}} />}\r\n      ListHeaderComponent={() => <View style={{height: 10}} />}\r\n      contentContainerStyle={{\r\n        paddingTop: HeaderHeight + TabBarHeight,\r\n        paddingHorizontal: 10,\r\n        minHeight: windowHeight - TabBarHeight,\r\n      }}\r\n      showsHorizontalScrollIndicator={false}\r\n      data={data}\r\n      renderItem={renderItem}\r\n      showsVerticalScrollIndicator={false}\r\n      keyExtractor={(item, index) => index.toString()}\r\n    />\r\n  );\r\n};\r\n\r\nconst CollapsibleTabView = () => {\r\n  const [tabIndex, setIndex] = useState(0);\r\n  const [routes] = useState([\r\n    {key: 'tab1', title: 'Tab1'},\r\n    {key: 'tab2', title: 'Tab2'},\r\n  ]);\r\n  const [tab1Data] = useState(Array(40).fill(0));\r\n  const [tab2Data] = useState(Array(30).fill(0));\r\n  const scrollY = useRef(new Animated.Value(0)).current;\r\n  let listRefArr = useRef([]);\r\n  let listOffset = useRef({});\r\n  let isListGliding = useRef(false);\r\n\r\n  useEffect(() => {\r\n    scrollY.addListener(({value}) => {\r\n      const curRoute = routes[tabIndex].key;\r\n      listOffset.current[curRoute] = value;\r\n    });\r\n    return () => {\r\n      scrollY.removeAllListeners();\r\n    };\r\n  }, [routes, tabIndex]);\r\n\r\n  const syncScrollOffset = () => {\r\n    const curRouteKey = routes[tabIndex].key;\r\n    listRefArr.current.forEach((item) => {\r\n      if (item.key !== curRouteKey) {\r\n        if (scrollY._value < HeaderHeight && scrollY._value >= 0) {\r\n          if (item.value) {\r\n            item.value.scrollToOffset({\r\n              offset: scrollY._value,\r\n              animated: false,\r\n            });\r\n            listOffset.current[item.key] = scrollY._value;\r\n          }\r\n        } else if (scrollY._value >= HeaderHeight) {\r\n          if (\r\n            listOffset.current[item.key] < HeaderHeight ||\r\n            listOffset.current[item.key] == null\r\n          ) {\r\n            if (item.value) {\r\n              item.value.scrollToOffset({\r\n                offset: HeaderHeight,\r\n                animated: false,\r\n              });\r\n              listOffset.current[item.key] = HeaderHeight;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const onMomentumScrollBegin = () => {\r\n    isListGliding.current = true;\r\n  };\r\n\r\n  const onMomentumScrollEnd = () => {\r\n    isListGliding.current = false;\r\n    syncScrollOffset();\r\n  };\r\n\r\n  const onScrollEndDrag = () => {\r\n    syncScrollOffset();\r\n  };\r\n\r\n  const renderHeader = () => {\r\n    const y = scrollY.interpolate({\r\n      inputRange: [0, HeaderHeight],\r\n      outputRange: [0, -HeaderHeight],\r\n      extrapolateRight: 'clamp',\r\n    });\r\n    return (\r\n      <Animated.View style={[styles.header, {transform: [{translateY: y}]}]}>\r\n        <Text>{'Header'}</Text>\r\n      </Animated.View>\r\n    );\r\n  };\r\n\r\n  const rednerTab1Item = ({item, index}) => {\r\n    return (\r\n      <View\r\n        style={{\r\n          borderRadius: 16,\r\n          marginLeft: index % 2 === 0 ? 0 : 10,\r\n          width: tab1ItemSize,\r\n          height: tab1ItemSize,\r\n          backgroundColor: '#aaa',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n        }}>\r\n        <Text>{index}</Text>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const rednerTab2Item = ({item, index}) => {\r\n    return (\r\n      <View\r\n        style={{\r\n          marginLeft: index % 3 === 0 ? 0 : 10,\r\n          borderRadius: 16,\r\n          width: tab2ItemSize,\r\n          height: tab2ItemSize,\r\n          backgroundColor: '#aaa',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n        }}>\r\n        <Text>{index}</Text>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const renderLabel = ({route, focused}) => {\r\n    return (\r\n      <Text style={[styles.label, {opacity: focused ? 1 : 0.5}]}>\r\n        {route.title}\r\n      </Text>\r\n    );\r\n  };\r\n\r\n  const renderScene = ({route}) => {\r\n    const focused = route.key === routes[tabIndex].key;\r\n    let numCols;\r\n    let data;\r\n    let renderItem;\r\n    switch (route.key) {\r\n      case 'tab1':\r\n        numCols = 2;\r\n        data = tab1Data;\r\n        renderItem = rednerTab1Item;\r\n        break;\r\n      case 'tab2':\r\n        numCols = 3;\r\n        data = tab2Data;\r\n        renderItem = rednerTab2Item;\r\n        break;\r\n      default:\r\n        return null;\r\n    }\r\n    return (\r\n      <TabScene\r\n        numCols={numCols}\r\n        data={data}\r\n        renderItem={renderItem}\r\n        scrollY={scrollY}\r\n        onMomentumScrollBegin={onMomentumScrollBegin}\r\n        onScrollEndDrag={onScrollEndDrag}\r\n        onMomentumScrollEnd={onMomentumScrollEnd}\r\n        onGetRef={(ref) => {\r\n          if (ref) {\r\n            const found = listRefArr.current.find((e) => e.key === route.key);\r\n            if (!found) {\r\n              listRefArr.current.push({\r\n                key: route.key,\r\n                value: ref,\r\n              });\r\n            }\r\n          }\r\n        }}\r\n      />\r\n    );\r\n  };\r\n\r\n  const renderTabBar = (props) => {\r\n    const y = scrollY.interpolate({\r\n      inputRange: [0, HeaderHeight],\r\n      outputRange: [HeaderHeight, 0],\r\n      extrapolateRight: 'clamp',\r\n    });\r\n    return (\r\n      <Animated.View\r\n        style={{\r\n          top: 0,\r\n          zIndex: 1,\r\n          position: 'absolute',\r\n          transform: [{translateY: y}],\r\n          width: '100%',\r\n        }}>\r\n        <TabBar\r\n          {...props}\r\n          onTabPress={({route, preventDefault}) => {\r\n            if (isListGliding.current) {\r\n              preventDefault();\r\n            }\r\n          }}\r\n          style={styles.tab}\r\n          renderLabel={renderLabel}\r\n          indicatorStyle={styles.indicator}\r\n        />\r\n      </Animated.View>\r\n    );\r\n  };\r\n\r\n  const renderTabView = () => {\r\n    return (\r\n      <TabView\r\n        onIndexChange={(index) => setIndex(index)}\r\n        navigationState={{index: tabIndex, routes}}\r\n        renderScene={renderScene}\r\n        renderTabBar={renderTabBar}\r\n        initialLayout={{\r\n          height: 0,\r\n          width: Dimensions.get('window').width,\r\n        }}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <View style={{flex: 1}}>\r\n      {renderTabView()}\r\n      {renderHeader()}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  header: {\r\n    top: 0,\r\n    height: HeaderHeight,\r\n    width: '100%',\r\n    backgroundColor: '#40C4FF',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    position: 'absolute',\r\n  },\r\n  label: {fontSize: 16, color: '#222'},\r\n  tab: {elevation: 0, shadowOpacity: 0, backgroundColor: '#FFCC80'},\r\n  indicator: {backgroundColor: '#222'},\r\n});\r\n\r\nexport default CollapsibleTabView;"]},"metadata":{},"sourceType":"module"}